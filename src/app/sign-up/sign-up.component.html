<div class="formmaindiv">
  <div class="formdiv">
    <h1 class="h1">SignUp</h1>
    <div class="formfields">
      <form
        #submitForm="ngForm"
        (ngSubmit)="submitform(submitForm.value, submitForm)"
      >
        <label>Username</label>

        <input
          type="text"
          placeholder="Enter username"
          name="username"
          ngModel
          class="inputfileds"
          required
        />

        <br />
        <label>Email</label>

        <input
          type="email"
          placeholder="Enter Email"
          name="email"
          ngModel
          class="inputfileds"
          required
          email
        />

        <br />
        <label>Password</label>

        <input
          type="password"
          placeholder="Enter Password"
          name="password"
          ngModel
          class="inputfileds"
          required
          minlength="8"
        />
        <br />

        <!-- <div *ngIf="submitted && submitForm.invalid" class="error_msg">
          <div
            *ngIf="submitForm.controls['username' ]?.errors?.['required'] ||
                     submitForm.controls['email' ]?.errors?.['required'] ||
                    submitForm.controls['password' ]?.errors?.['required']"
          >
            All fields is required.
          </div>
        </div> -->

        <div
          *ngIf="submitted && submitForm.controls['email']?.invalid"
          class="error_msg"
        >
          <div *ngIf="submitForm.controls['email']?.errors?.['email']">
            Please enter a valid email address.
          </div>
        </div>

        <div
          *ngIf="submitted && submitForm.controls['password']?.invalid"
          class="error_msg"
        >
          <div *ngIf="submitForm.controls['password']?.errors?.['minlength']">
            Password must be at least 8 characters long.
          </div>
        </div>

        <div *ngIf="backenderr_msg" class="error_msg">
          {{ backenderr_msg }}
        </div>

        <div *ngIf="backendSucc_msg" class="success_msg">
          {{ backendSucc_msg }}
        </div>
        <button class="button" (click)="inputfieldsCheck(submitForm)">
          SignUp
        </button>
      </form>
    </div>

    <p class="acount-msg">
      If you already have an account, you can
      <a routerLink="/login" routerLinkActive="active-link">Login</a>
    </p>
  </div>
</div>
